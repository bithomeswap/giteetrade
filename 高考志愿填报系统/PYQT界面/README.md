# LrcMusicPlayer 歌词音乐播放器

[发行版页面](https://gitee.com/pth2000/LrcMusicPlayer/releases)

## 功能介绍
一个基于PySide6/PyQt6实现的本地音乐播放器，专注于显示歌曲的内嵌歌词和歌曲信息，支持获取在线歌词，使用SQLite3数据库实现音乐的检索。

![截图](https://gitee.com/pth2000/LrcMusicPlayer/raw/master/images/screenshots.png)

## **重要说明**
本软件的媒体播放基于Qt5的QMediaPlayer类实现，而在Windows平台上，QMediaPlayer的底层为DirectShowPlayerService，如果您的系统没有DirectShow解码器，那么播放器将无法正常运行（表现为不停切换音乐）。因此，您需要检查您的Windows电脑是否安装了LAV解码器。目前主流的LAV解码器分别是：

- [Lav Filters](https://github.com/Nevcairiel/LAVFilters/releases)
- [K-Lite](http://www.codecguide.com/download_kl.htm)

如果您从未安装过LAV解码器，推荐您安装K-Lite的Basic版本，体积极小，安装快速。

## 基本特性
基于Python、PySide6实现。

支持mp3、flac、wav、m4a、ape格式的播放和标签读取。不支持dsd格式的播放（暂未找到使DirectShow支持dsd的解决方法）。

支持读取歌曲的内嵌歌词及同目录下的lrc文件，优先读取内嵌歌词。歌词格式支持（且建议）主副歌词分行使用相同时间戳，支持在软件中关闭翻译，支持显示日文罗马音，支持从网络获取歌词和评论（不保证准确性）。

支持歌曲专辑封面、元数据信息及歌曲数据的显示。

支持获取文件夹内所有音乐（即包括子文件夹），支持根据音乐的标题、艺术家、专辑、风格进行检索。

播放模式支持列表循环、随机播放、单曲循环，音乐列表支持按拼音正序排序、修改时间倒序排序、创建时间倒序排序。

支持软件配置自动保存，便于下次使用。

支持手动检查更新。

支持自动比对、更新音乐数据库。

支持部分键盘按键控制播放器。

## 使用方法

0. （建议）使用[音乐标签](https://www.cnblogs.com/vinlxc/p/11347744.html)或其他软件为歌曲添加内嵌歌词，完善歌曲内嵌标签，获得更好的播放体验。
1. 打开软件，点击选择路径按钮（加号按钮），选择你的音乐所在文件夹。之后，软件会将音乐信息载入数据库，这可能需要一点时间。
2. 双击左侧音乐列表即可播放对应音乐，歌曲名称按“标题-艺术家”形式显示。
3. 如果音乐含有带时间戳的歌词，双击歌词所在行可以实现进度跳转。
4. 双击右侧歌曲信息可以实现检索对应信息。
5. 在左上侧搜索栏处可检索对应歌曲。
6. 点击save按钮可将当前列表保存为播放列表。
7. 点击云朵图标切换歌词的获取方式，点击放大镜图标可以切换评论的显示。
8. 点击左下角排序图标可以切换排序方式。
9. 可使用键盘左右方向键进行切歌，上下方向键调节软件内音量，空格/回车切换音乐播放状态，Esc退出软件。


## 注意事项

- 软件将在当前路径下创建setting.json配置文件、songs.db数据库文件，可能导致杀软报警。
- 如果由于歌曲路径变动遇到软件无法打开等问题，可以尝试删除目录下的songs.db及setting.json文件，即可重置播放器设置。

## 更新日志

### 版本 1.6

- 2023.10.07-1.6.0：修复之前更新引发的歌词列表选中逻辑错误的问题；更新部分注释；优化罗马音添加与判断逻辑；优化格式限定语句；优化罗马音显示效果；更新字体文件；优化Windows下菜单栏最小化无法回弹的问题；由PyQt5更新至PySide6，全面调整代码以适应新API，全面调整界面，优化不同分辨率屏幕下的显示样式；新增初始化音乐时的音乐进度数字提示；优化字体资源载入方式；优化封面呈现方式。

### 历史版本更新
更多历史更新参见[提交页面](https://gitee.com/pth2000/LrcMusicPlayer/commits/master)。

## 目前待解决的问题/未实现的功能
- ~~界面缩放功能。~~
- 更好的界面布局设计。
- 优化在线数据的获取与展示。
- ~~APE格式的封面读取。~~
- 音乐播放统计。
- 多音乐路径载入与管理。


如果遇到任何bug，或者有任何建议，欢迎留言，谢谢。
